{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rogee\\\\Downloads\\\\teste\\\\src\\\\views\\\\home\\\\Home.js\";\nimport React from \"react\";\nimport { Box, Grid, Button, Card, TextField, CardContent, CardHeader, Typography } from \"@material-ui/core/\";\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from \"./Home.style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openLoginModal: false,\n      form: {\n        filter: {\n          id: \"filter\",\n          value: \"\"\n        },\n        nome: {\n          id: \"nome\",\n          value: \"\"\n        },\n        preco: {\n          id: \"preco\",\n          value: \"\"\n        },\n        imagem: {\n          id: \"imagem\",\n          value: \"\"\n        }\n      },\n      filter: {\n        id: \"preco\",\n        value: \"\"\n      },\n      lista: [],\n      typePage: \"list\"\n    };\n  }\n\n  toggleLoginModal() {\n    console.log(this.state.openLoginModal);\n    this.setState({\n      openLoginModal: !this.state.openLoginModal\n    });\n    window.alert(\"a\");\n    this.get();\n  }\n\n  onInputChange(id, value) {\n    let {\n      form\n    } = this.state;\n    form[id].value = value;\n    this.setState({\n      form\n    });\n  }\n\n  handleLogin() {\n    window.alert(\"teste\");\n  }\n\n  changeView() {\n    let {\n      typePage\n    } = this.state;\n    let newType = typePage == \"list\" ? \"create\" : \"list\";\n    this.setState({\n      typePage: newType\n    });\n  }\n\n  createItem() {\n    let {\n      form\n    } = this.state;\n    let body = {\n      nome: form.nome.value,\n      preco: form.preco.value,\n      imagem: form.imagem.value\n    };\n    console.log(body);\n    let localStore = localStorage.getItem(\"database\");\n    let database = [];\n\n    if (localStore) {\n      const cache = JSON.parse(localStore);\n      cache.push(body);\n      localStorage.setItem(\"database\", JSON.stringify(cache));\n      this.clearForm();\n      this.setState({\n        typePage: \"list\"\n      });\n    } else {\n      database[0] = body;\n      localStorage.setItem(\"database\", JSON.stringify(database));\n      console.log(database);\n    }\n  }\n\n  clearForm() {\n    let {\n      form\n    } = this.state;\n    form.imagem.value = \"\";\n    form.preco.value = \"\";\n    form.nome.value = \"\";\n    this.setState({\n      form\n    });\n  }\n\n  componentDidMount() {\n    let localStore = localStorage.getItem(\"database\");\n    console.log(localStore);\n  }\n\n  removeItem(l, idx) {\n    console.log(l, idx);\n    let localStore = localStorage.getItem(\"database\");\n    const cache = JSON.parse(localStore);\n    cache.splice(idx, 1);\n    localStorage.setItem(\"database\", JSON.stringify(cache));\n    this.setState({\n      typePage: \"list\"\n    });\n  }\n\n  editarItem(l, idx) {\n    console.log(l, idx);\n    let {\n      typePage\n    } = this.state;\n    typePage = \"edit\";\n    this.setState({\n      typePage\n    });\n  }\n\n  render() {\n    let {\n      form,\n      typePage\n    } = this.state;\n    let lista = localStorage.getItem('database');\n    let cacheLista = JSON.parse(lista);\n    let listaFiltrada = cacheLista === null || cacheLista === void 0 ? void 0 : cacheLista.filter(l => {\n      var _form$filter, _form$filter$value;\n\n      const filter = form === null || form === void 0 ? void 0 : (_form$filter = form.filter) === null || _form$filter === void 0 ? void 0 : (_form$filter$value = _form$filter.value) === null || _form$filter$value === void 0 ? void 0 : _form$filter$value.toLowerCase();\n      const nome = l.nome.toLowerCase();\n      return nome.includes(filter);\n    });\n    return /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        height: \"100%\"\n      },\n      className: \"mt-4\",\n      children: typePage == \"list\" ? /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleLogin.bind(this),\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              requireds: true,\n              size: \"small\",\n              label: \"Filtro\",\n              id: this.state.form.filter.id,\n              value: this.state.form.filter.value,\n              style: {\n                width: \"100%\"\n              },\n              onChange: e => this.onInputChange(this.state.form.filter.id, e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              disableElevation: true,\n              onClick: () => this.changeView(),\n              children: \"Novo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 29\n          }, this), listaFiltrada === null || listaFiltrada === void 0 ? void 0 : listaFiltrada.map((l, idx) => {\n            return /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  md: 8,\n                  children: l.nome\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"secondary\",\n                    disableElevation: true,\n                    onClick: () => this.editarItem(l, idx),\n                    children: \"Editar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"primary\",\n                    disableElevation: true,\n                    onClick: () => this.removeItem(l, idx),\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 41\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: \"Cria\\xE7\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            size: \"small\",\n            label: \"Nome\",\n            id: this.state.form.nome.id,\n            value: this.state.form.nome.value,\n            style: {\n              width: \"100%\"\n            },\n            onChange: e => this.onInputChange(this.state.form.nome.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            size: \"small\",\n            label: \"Pre\\xE7o\",\n            id: this.state.form.preco.id,\n            value: this.state.form.preco.value,\n            style: {\n              width: \"100%\"\n            },\n            onChange: e => this.onInputChange(this.state.form.preco.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            size: \"small\",\n            label: \"URL da imagem\",\n            id: this.state.form.imagem.id,\n            value: this.state.form.imagem.value,\n            style: {\n              width: \"100%\"\n            },\n            onChange: e => this.onInputChange(this.state.form.imagem.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 6,\n            style: {\n              justifyContent: \"center\",\n              display: \"flex\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"secondary\",\n              disableElevation: true,\n              autoFocus: true,\n              onClick: () => this.changeView(),\n              children: \"VOLTAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 6,\n            style: {\n              justifyContent: \"center\",\n              display: \"flex\",\n              marginTop: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              disableElevation: true,\n              autoFocus: true,\n              onClick: () => this.createItem(),\n              children: \"CRIAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/rogee/Downloads/teste/src/views/home/Home.js"],"names":["React","Box","Grid","Button","Card","TextField","CardContent","CardHeader","Typography","withStyles","styles","Home","Component","constructor","props","state","openLoginModal","form","filter","id","value","nome","preco","imagem","lista","typePage","toggleLoginModal","console","log","setState","window","alert","get","onInputChange","handleLogin","changeView","newType","createItem","body","localStore","localStorage","getItem","database","cache","JSON","parse","push","setItem","stringify","clearForm","componentDidMount","removeItem","l","idx","splice","editarItem","render","cacheLista","listaFiltrada","toLowerCase","includes","height","bind","width","e","target","map","justifyContent","display","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    Box, Grid,\n    Button, Card,\n    TextField, CardContent,\n    CardHeader, Typography\n} from \"@material-ui/core/\";\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from \"./Home.style\";\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            openLoginModal: false,\n            form: {\n                filter: {\n                    id: \"filter\",\n                    value: \"\"\n                },\n                nome: {\n                    id: \"nome\",\n                    value: \"\"\n                },\n                preco:\n                {\n                    id: \"preco\",\n                    value: \"\"\n                },\n                imagem:\n                {\n                    id: \"imagem\",\n                    value: \"\"\n                },\n            },\n            filter: {\n                id: \"preco\",\n                value: \"\"\n            },\n            lista: [],\n            typePage: \"list\"\n        }\n    }\n\n    toggleLoginModal() {\n        console.log(this.state.openLoginModal)\n        this.setState({ openLoginModal: !this.state.openLoginModal });\n        window.alert(\"a\")\n        this.get()\n    }\n\n\n    onInputChange(id, value) {\n        let { form } = this.state;\n        form[id].value = value;\n        this.setState({ form });\n    }\n    handleLogin() {\n        window.alert(\"teste\")\n    }\n\n    changeView() {\n        let { typePage } = this.state\n        let newType = typePage == \"list\" ? \"create\" : \"list\"\n        this.setState({ typePage: newType })\n    }\n\n    createItem() {\n        let { form } = this.state\n        let body = {\n            nome: form.nome.value,\n            preco: form.preco.value,\n            imagem: form.imagem.value\n        }\n        console.log(body)\n        let localStore = localStorage.getItem(\"database\")\n        let database = [];\n\n\n\n        if (localStore) {\n            const cache = JSON.parse(localStore)\n            cache.push(body)\n            localStorage.setItem(\"database\", JSON.stringify(cache));\n            this.clearForm()\n            this.setState({ typePage: \"list\" })\n        } else {\n            database[0] = body\n            localStorage.setItem(\"database\", JSON.stringify(database));\n            console.log(database)\n        }\n\n\n    }\n\n    clearForm() {\n        let { form } = this.state\n        form.imagem.value = \"\"\n        form.preco.value = \"\"\n        form.nome.value = \"\"\n\n        this.setState({ form })\n    }\n    componentDidMount() {\n        let localStore = localStorage.getItem(\"database\")\n        console.log(localStore)\n    }\n\n    removeItem(l, idx) {\n        console.log(l, idx)\n        let localStore = localStorage.getItem(\"database\")\n        const cache = JSON.parse(localStore)\n        cache.splice(idx, 1)\n        localStorage.setItem(\"database\", JSON.stringify(cache));\n        this.setState({ typePage: \"list\" })\n    }\n\n    editarItem(l, idx) {\n        console.log(l, idx)\n        let { typePage } = this.state\n        typePage = \"edit\"\n        this.setState({ typePage })\n    }\n    \n    render() {\n        let { form, typePage } = this.state\n        let lista = localStorage.getItem('database');\n        let cacheLista = JSON.parse(lista);\n        let listaFiltrada = cacheLista?.filter((l) => {\n            const filter = form?.filter?.value?.toLowerCase();\n            const nome = l.nome.toLowerCase();\n            return nome.includes(filter);\n        });\n        return (\n            <Box style={{ height: \"100%\" }} className=\"mt-4\">\n                {typePage == \"list\" ?\n                    <Card>\n                        <CardContent>\n                            <form onSubmit={this.handleLogin.bind(this)}>\n                                <TextField\n                                    requireds\n                                    size=\"small\"\n                                    label=\"Filtro\"\n                                    id={this.state.form.filter.id}\n                                    value={this.state.form.filter.value}\n                                    style={{ width: \"100%\" }}\n                                    onChange={(e) => this.onInputChange(this.state.form.filter.id, e.target.value)}\n                                />\n                                <Button\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    disableElevation\n                                    onClick={() => this.changeView()}\n                                >\n                                    Novo\n                                </Button>\n                            </form>\n                            {listaFiltrada?.map((l, idx) => {\n                                return (\n                                    <Grid key={idx} item xs={12}>\n                                        <Card className=\"mt-3\">\n                                            <Grid md={8}>\n                                                {l.nome}\n                                            </Grid>\n                                            <Grid md={2}>\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"secondary\"\n                                                    disableElevation\n                                                    onClick={() => this.editarItem(l, idx)}\n                                                >\n                                                    Editar\n                                              </Button>\n                                            </Grid>\n                                            <Grid md={2}>\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"primary\"\n                                                    disableElevation\n                                                    onClick={() => this.removeItem(l, idx)}\n                                                >\n                                                    Remove\n                                              </Button>\n                                            </Grid>\n                                        </Card>\n                                    </Grid>\n                                )\n                            })}\n                        </CardContent>\n                    </Card>\n                    : <Card>\n                        <Typography variant=\"h4\">Criação</Typography>\n                        <Grid container className=\"mt-4\">\n                            <TextField\n                                required\n                                size=\"small\"\n                                label=\"Nome\"\n                                id={this.state.form.nome.id}\n                                value={this.state.form.nome.value}\n                                style={{ width: \"100%\" }}\n                                onChange={(e) => this.onInputChange(this.state.form.nome.id, e.target.value)}\n                            />\n                            <TextField\n                                required\n                                size=\"small\"\n                                label=\"Preço\"\n                                id={this.state.form.preco.id}\n                                value={this.state.form.preco.value}\n                                style={{ width: \"100%\" }}\n                                onChange={(e) => this.onInputChange(this.state.form.preco.id, e.target.value)}\n                            />\n                            <TextField\n                                required\n                                size=\"small\"\n                                label=\"URL da imagem\"\n                                id={this.state.form.imagem.id}\n                                value={this.state.form.imagem.value}\n                                style={{ width: \"100%\" }}\n                                onChange={(e) => this.onInputChange(this.state.form.imagem.id, e.target.value)}\n                            />\n                            <Grid item md={6} style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                <Button\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    disableElevation\n                                    autoFocus\n                                    onClick={() => this.changeView()}\n                                >\n                                    VOLTAR\n                                </Button>\n                            </Grid>\n                            <Grid item md={6} style={{ justifyContent: \"center\", display: \"flex\", marginTop: \"10px\" }}>\n                                <Button\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    disableElevation\n                                    autoFocus\n                                    onClick={() => this.createItem()}\n                                >\n                                    CRIAR\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Card>\n                }\n            </Box>\n        )\n    };\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}