{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rogee\\\\Downloads\\\\teste\\\\src\\\\views\\\\home\\\\Home.js\";\nimport React from \"react\";\nimport { Box, Grid, Button, Card, TextField, CardContent, CardHeader, Typography, Select, MenuItem } from \"@material-ui/core/\";\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from \"./Home.style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openLoginModal: false,\n      form: {\n        filter: {\n          id: \"filter\",\n          value: \"\"\n        },\n        nome: {\n          id: \"nome\",\n          value: \"\"\n        },\n        preco: {\n          id: \"preco\",\n          value: \"\"\n        },\n        imagem: {\n          id: \"imagem\",\n          value: \"\"\n        }\n      },\n      filter: {\n        id: \"preco\",\n        value: \"\"\n      },\n      lista: [],\n      typePage: \"list\",\n      idxEdit: \"\"\n    };\n  }\n\n  onInputChange(id, value) {\n    let {\n      form\n    } = this.state;\n    form[id].value = value;\n    this.setState({\n      form\n    });\n  }\n\n  changeView() {\n    let {\n      typePage\n    } = this.state;\n    let newType = typePage == \"list\" ? \"create\" : \"list\";\n    this.clearForm();\n    this.setState({\n      typePage: newType\n    });\n  }\n\n  createItem() {\n    let {\n      form\n    } = this.state;\n    let body = {\n      nome: form.nome.value,\n      preco: form.preco.value,\n      imagem: form.imagem.value\n    };\n    console.log(body);\n    let localStore = localStorage.getItem(\"database\");\n    let database = [];\n\n    if (localStore) {\n      const cache = JSON.parse(localStore);\n      cache.push(body);\n      localStorage.setItem(\"database\", JSON.stringify(cache));\n      this.clearForm();\n      this.setState({\n        typePage: \"list\"\n      });\n    } else {\n      database[0] = body;\n      localStorage.setItem(\"database\", JSON.stringify(database));\n      console.log(database);\n    }\n  }\n\n  clearForm() {\n    let {\n      form\n    } = this.state;\n    form.imagem.value = \"\";\n    form.preco.value = \"\";\n    form.nome.value = \"\";\n    this.setState({\n      form\n    });\n  }\n\n  componentDidMount() {\n    let localStore = localStorage.getItem(\"database\");\n    console.log(localStore);\n  }\n\n  removeItem(l, idx) {\n    console.log(l, idx);\n    let localStore = localStorage.getItem(\"database\");\n    const cache = JSON.parse(localStore);\n    cache.splice(idx, 1);\n    localStorage.setItem(\"database\", JSON.stringify(cache));\n    this.setState({\n      typePage: \"list\"\n    });\n  }\n\n  editarItem(l, idx) {\n    console.log(l, idx);\n    let {\n      typePage,\n      form\n    } = this.state;\n    typePage = \"edit\";\n    form.imagem.value = l.imagem;\n    form.nome.value = l.nome;\n    form.preco.value = l.preco;\n    this.setState({\n      typePage,\n      form,\n      idxEdit: idx\n    });\n  }\n\n  editItem() {\n    let {\n      form,\n      idxEdit\n    } = this.state;\n    let localStore = localStorage.getItem(\"database\");\n    const cache = JSON.parse(localStore);\n    cache[idxEdit].imagem = form.imagem.value;\n    cache[idxEdit].nome = form.nome.value;\n    cache[idxEdit].preco = form.preco.value;\n    localStorage.setItem(\"database\", JSON.stringify(cache));\n    this.setState({\n      typePage: \"list\"\n    });\n    this.clearForm();\n  }\n\n  render() {\n    let {\n      form,\n      typePage\n    } = this.state;\n    let lista = localStorage.getItem('database');\n    let cacheLista = JSON.parse(lista);\n    let listaFiltrada = cacheLista === null || cacheLista === void 0 ? void 0 : cacheLista.filter(l => {\n      var _form$filter, _form$filter$value;\n\n      const filter = form === null || form === void 0 ? void 0 : (_form$filter = form.filter) === null || _form$filter === void 0 ? void 0 : (_form$filter$value = _form$filter.value) === null || _form$filter$value === void 0 ? void 0 : _form$filter$value.toLowerCase();\n      const nome = l.nome.toLowerCase();\n      return nome.includes(filter);\n    });\n    return /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        height: \"100%\"\n      },\n      className: \"mt-4\",\n      children: typePage == \"list\" ? /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            requireds: true,\n            size: \"small\",\n            label: \"Filtro\",\n            id: this.state.form.filter.id,\n            value: this.state.form.filter.value,\n            style: {\n              width: \"100%\"\n            },\n            onChange: e => this.onInputChange(this.state.form.filter.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            disableElevation: true,\n            onClick: () => this.changeView(),\n            children: \"Novo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 29\n          }, this), listaFiltrada === null || listaFiltrada === void 0 ? void 0 : listaFiltrada.map((l, idx) => {\n            return /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  md: 8,\n                  children: l.nome\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"secondary\",\n                    disableElevation: true,\n                    onClick: () => this.editarItem(l, idx),\n                    children: \"Editar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"primary\",\n                    disableElevation: true,\n                    onClick: () => this.removeItem(l, idx),\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 41\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: typePage == \"edit\" ? \"Edição\" : \"Criação\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            size: \"small\",\n            label: \"Nome\",\n            id: this.state.form.nome.id,\n            value: this.state.form.nome.value,\n            style: {\n              width: \"100%\"\n            },\n            onChange: e => this.onInputChange(this.state.form.nome.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            required: true,\n            id: this.state.form.priridade.id,\n            value: this.state.form.priridade.value,\n            style: {\n              width: \"100%\"\n            },\n            onChange: e => this.onInputChange(this.state.form.nome.id, e.target.value),\n            label: \"Prioridade\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"baixa\",\n              children: \"Baixa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"media\",\n              children: \"M\\xE9dia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"alta\",\n              children: \"Alta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            size: \"small\",\n            label: \"Pre\\xE7o\",\n            id: this.state.form.preco.id,\n            value: this.state.form.preco.value,\n            style: {\n              width: \"100%\"\n            },\n            onChange: e => this.onInputChange(this.state.form.preco.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            size: \"small\",\n            label: \"URL da imagem\",\n            id: this.state.form.imagem.id,\n            value: this.state.form.imagem.value,\n            style: {\n              width: \"100%\"\n            },\n            onChange: e => this.onInputChange(this.state.form.imagem.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 6,\n            style: {\n              justifyContent: \"center\",\n              display: \"flex\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"secondary\",\n              disableElevation: true,\n              autoFocus: true,\n              onClick: () => this.changeView(),\n              children: \"VOLTAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 6,\n            style: {\n              justifyContent: \"center\",\n              display: \"flex\",\n              marginTop: \"10px\"\n            },\n            children: typePage == \"edit\" ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: () => this.editItem(),\n              children: \"EDITAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: () => this.createItem(),\n              children: \"CRIAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/rogee/Downloads/teste/src/views/home/Home.js"],"names":["React","Box","Grid","Button","Card","TextField","CardContent","CardHeader","Typography","Select","MenuItem","withStyles","styles","Home","Component","constructor","props","state","openLoginModal","form","filter","id","value","nome","preco","imagem","lista","typePage","idxEdit","onInputChange","setState","changeView","newType","clearForm","createItem","body","console","log","localStore","localStorage","getItem","database","cache","JSON","parse","push","setItem","stringify","componentDidMount","removeItem","l","idx","splice","editarItem","editItem","render","cacheLista","listaFiltrada","toLowerCase","includes","height","width","e","target","map","priridade","justifyContent","display","marginTop"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,GADJ,EACSC,IADT,EAEIC,MAFJ,EAEYC,IAFZ,EAGIC,SAHJ,EAGeC,WAHf,EAIIC,UAJJ,EAIgBC,UAJhB,EAKIC,MALJ,EAKYC,QALZ,QAMO,oBANP;AAOA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,MAAP,MAAmB,cAAnB;;;AAEA,MAAMC,IAAN,SAAmBb,KAAK,CAACc,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,cAAc,EAAE,KADP;AAETC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE;AACJC,UAAAA,EAAE,EAAE,QADA;AAEJC,UAAAA,KAAK,EAAE;AAFH,SADN;AAKFC,QAAAA,IAAI,EAAE;AACFF,UAAAA,EAAE,EAAE,MADF;AAEFC,UAAAA,KAAK,EAAE;AAFL,SALJ;AASFE,QAAAA,KAAK,EACL;AACIH,UAAAA,EAAE,EAAE,OADR;AAEIC,UAAAA,KAAK,EAAE;AAFX,SAVE;AAcFG,QAAAA,MAAM,EACN;AACIJ,UAAAA,EAAE,EAAE,QADR;AAEIC,UAAAA,KAAK,EAAE;AAFX;AAfE,OAFG;AAsBTF,MAAAA,MAAM,EAAE;AACJC,QAAAA,EAAE,EAAE,OADA;AAEJC,QAAAA,KAAK,EAAE;AAFH,OAtBC;AA0BTI,MAAAA,KAAK,EAAE,EA1BE;AA2BTC,MAAAA,QAAQ,EAAE,MA3BD;AA4BTC,MAAAA,OAAO,EAAE;AA5BA,KAAb;AA8BH;;AAIDC,EAAAA,aAAa,CAACR,EAAD,EAAKC,KAAL,EAAY;AACrB,QAAI;AAAEH,MAAAA;AAAF,QAAW,KAAKF,KAApB;AACAE,IAAAA,IAAI,CAACE,EAAD,CAAJ,CAASC,KAAT,GAAiBA,KAAjB;AACA,SAAKQ,QAAL,CAAc;AAAEX,MAAAA;AAAF,KAAd;AACH;;AAEDY,EAAAA,UAAU,GAAG;AACT,QAAI;AAAEJ,MAAAA;AAAF,QAAe,KAAKV,KAAxB;AACA,QAAIe,OAAO,GAAGL,QAAQ,IAAI,MAAZ,GAAqB,QAArB,GAAgC,MAA9C;AACA,SAAKM,SAAL;AACA,SAAKH,QAAL,CAAc;AAAEH,MAAAA,QAAQ,EAAEK;AAAZ,KAAd;AACH;;AAEDE,EAAAA,UAAU,GAAG;AACT,QAAI;AAAEf,MAAAA;AAAF,QAAW,KAAKF,KAApB;AACA,QAAIkB,IAAI,GAAG;AACPZ,MAAAA,IAAI,EAAEJ,IAAI,CAACI,IAAL,CAAUD,KADT;AAEPE,MAAAA,KAAK,EAAEL,IAAI,CAACK,KAAL,CAAWF,KAFX;AAGPG,MAAAA,MAAM,EAAEN,IAAI,CAACM,MAAL,CAAYH;AAHb,KAAX;AAKAc,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,QAAIG,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;AACA,QAAIC,QAAQ,GAAG,EAAf;;AAIA,QAAIH,UAAJ,EAAgB;AACZ,YAAMI,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWN,UAAX,CAAd;AACAI,MAAAA,KAAK,CAACG,IAAN,CAAWV,IAAX;AACAI,MAAAA,YAAY,CAACO,OAAb,CAAqB,UAArB,EAAiCH,IAAI,CAACI,SAAL,CAAeL,KAAf,CAAjC;AACA,WAAKT,SAAL;AACA,WAAKH,QAAL,CAAc;AAAEH,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACH,KAND,MAMO;AACHc,MAAAA,QAAQ,CAAC,CAAD,CAAR,GAAcN,IAAd;AACAI,MAAAA,YAAY,CAACO,OAAb,CAAqB,UAArB,EAAiCH,IAAI,CAACI,SAAL,CAAeN,QAAf,CAAjC;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACH;AAGJ;;AAEDR,EAAAA,SAAS,GAAG;AACR,QAAI;AAAEd,MAAAA;AAAF,QAAW,KAAKF,KAApB;AACAE,IAAAA,IAAI,CAACM,MAAL,CAAYH,KAAZ,GAAoB,EAApB;AACAH,IAAAA,IAAI,CAACK,KAAL,CAAWF,KAAX,GAAmB,EAAnB;AACAH,IAAAA,IAAI,CAACI,IAAL,CAAUD,KAAV,GAAkB,EAAlB;AAEA,SAAKQ,QAAL,CAAc;AAAEX,MAAAA;AAAF,KAAd;AACH;;AACD6B,EAAAA,iBAAiB,GAAG;AAChB,QAAIV,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYC,UAAZ;AACH;;AAEDW,EAAAA,UAAU,CAACC,CAAD,EAAIC,GAAJ,EAAS;AACff,IAAAA,OAAO,CAACC,GAAR,CAAYa,CAAZ,EAAeC,GAAf;AACA,QAAIb,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;AACA,UAAME,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWN,UAAX,CAAd;AACAI,IAAAA,KAAK,CAACU,MAAN,CAAaD,GAAb,EAAkB,CAAlB;AACAZ,IAAAA,YAAY,CAACO,OAAb,CAAqB,UAArB,EAAiCH,IAAI,CAACI,SAAL,CAAeL,KAAf,CAAjC;AACA,SAAKZ,QAAL,CAAc;AAAEH,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACH;;AAED0B,EAAAA,UAAU,CAACH,CAAD,EAAIC,GAAJ,EAAS;AACff,IAAAA,OAAO,CAACC,GAAR,CAAYa,CAAZ,EAAeC,GAAf;AACA,QAAI;AAAExB,MAAAA,QAAF;AAAYR,MAAAA;AAAZ,QAAqB,KAAKF,KAA9B;AACAU,IAAAA,QAAQ,GAAG,MAAX;AACAR,IAAAA,IAAI,CAACM,MAAL,CAAYH,KAAZ,GAAoB4B,CAAC,CAACzB,MAAtB;AACAN,IAAAA,IAAI,CAACI,IAAL,CAAUD,KAAV,GAAkB4B,CAAC,CAAC3B,IAApB;AACAJ,IAAAA,IAAI,CAACK,KAAL,CAAWF,KAAX,GAAmB4B,CAAC,CAAC1B,KAArB;AACA,SAAKM,QAAL,CAAc;AAAEH,MAAAA,QAAF;AAAYR,MAAAA,IAAZ;AAAkBS,MAAAA,OAAO,EAAEuB;AAA3B,KAAd;AACH;;AAGDG,EAAAA,QAAQ,GAAG;AACP,QAAI;AAAEnC,MAAAA,IAAF;AAAQS,MAAAA;AAAR,QAAoB,KAAKX,KAA7B;AAEA,QAAIqB,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;AACA,UAAME,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWN,UAAX,CAAd;AACAI,IAAAA,KAAK,CAACd,OAAD,CAAL,CAAeH,MAAf,GAAwBN,IAAI,CAACM,MAAL,CAAYH,KAApC;AACAoB,IAAAA,KAAK,CAACd,OAAD,CAAL,CAAeL,IAAf,GAAsBJ,IAAI,CAACI,IAAL,CAAUD,KAAhC;AACAoB,IAAAA,KAAK,CAACd,OAAD,CAAL,CAAeJ,KAAf,GAAuBL,IAAI,CAACK,KAAL,CAAWF,KAAlC;AAEAiB,IAAAA,YAAY,CAACO,OAAb,CAAqB,UAArB,EAAiCH,IAAI,CAACI,SAAL,CAAeL,KAAf,CAAjC;AAEA,SAAKZ,QAAL,CAAc;AAAEH,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACA,SAAKM,SAAL;AACH;;AAGDsB,EAAAA,MAAM,GAAG;AACL,QAAI;AAAEpC,MAAAA,IAAF;AAAQQ,MAAAA;AAAR,QAAqB,KAAKV,KAA9B;AACA,QAAIS,KAAK,GAAGa,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ;AACA,QAAIgB,UAAU,GAAGb,IAAI,CAACC,KAAL,CAAWlB,KAAX,CAAjB;AACA,QAAI+B,aAAa,GAAGD,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEpC,MAAZ,CAAoB8B,CAAD,IAAO;AAAA;;AAC1C,YAAM9B,MAAM,GAAGD,IAAH,aAAGA,IAAH,uCAAGA,IAAI,CAAEC,MAAT,uEAAG,aAAcE,KAAjB,uDAAG,mBAAqBoC,WAArB,EAAf;AACA,YAAMnC,IAAI,GAAG2B,CAAC,CAAC3B,IAAF,CAAOmC,WAAP,EAAb;AACA,aAAOnC,IAAI,CAACoC,QAAL,CAAcvC,MAAd,CAAP;AACH,KAJmB,CAApB;AAKA,wBACI,QAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAAEwC,QAAAA,MAAM,EAAE;AAAV,OAAZ;AAAgC,MAAA,SAAS,EAAC,MAA1C;AAAA,gBACKjC,QAAQ,IAAI,MAAZ,gBACG,QAAC,IAAD;AAAA,+BACI,QAAC,WAAD;AAAA,kCACI,QAAC,SAAD;AACI,YAAA,SAAS,MADb;AAEI,YAAA,IAAI,EAAC,OAFT;AAGI,YAAA,KAAK,EAAC,QAHV;AAII,YAAA,EAAE,EAAE,KAAKV,KAAL,CAAWE,IAAX,CAAgBC,MAAhB,CAAuBC,EAJ/B;AAKI,YAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,IAAX,CAAgBC,MAAhB,CAAuBE,KALlC;AAMI,YAAA,KAAK,EAAE;AAAEuC,cAAAA,KAAK,EAAE;AAAT,aANX;AAOI,YAAA,QAAQ,EAAGC,CAAD,IAAO,KAAKjC,aAAL,CAAmB,KAAKZ,KAAL,CAAWE,IAAX,CAAgBC,MAAhB,CAAuBC,EAA1C,EAA8CyC,CAAC,CAACC,MAAF,CAASzC,KAAvD;AAPrB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAUI,QAAC,MAAD;AACI,YAAA,OAAO,EAAC,WADZ;AAEI,YAAA,KAAK,EAAC,SAFV;AAGI,YAAA,gBAAgB,MAHpB;AAII,YAAA,OAAO,EAAE,MAAM,KAAKS,UAAL,EAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVJ,EAkBK0B,aAlBL,aAkBKA,aAlBL,uBAkBKA,aAAa,CAAEO,GAAf,CAAmB,CAACd,CAAD,EAAIC,GAAJ,KAAY;AAC5B,gCACI,QAAC,IAAD;AAAgB,cAAA,IAAI,MAApB;AAAqB,cAAA,EAAE,EAAE,EAAzB;AAAA,qCACI,QAAC,IAAD;AAAM,gBAAA,SAAS,EAAC,MAAhB;AAAA,wCACI,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAE,CAAV;AAAA,4BACKD,CAAC,CAAC3B;AADP;AAAA;AAAA;AAAA;AAAA,wBADJ,eAII,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAE,CAAV;AAAA,yCACI,QAAC,MAAD;AACI,oBAAA,OAAO,EAAC,WADZ;AAEI,oBAAA,KAAK,EAAC,WAFV;AAGI,oBAAA,gBAAgB,MAHpB;AAII,oBAAA,OAAO,EAAE,MAAM,KAAK8B,UAAL,CAAgBH,CAAhB,EAAmBC,GAAnB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAJJ,eAcI,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAE,CAAV;AAAA,yCACI,QAAC,MAAD;AACI,oBAAA,OAAO,EAAC,WADZ;AAEI,oBAAA,KAAK,EAAC,SAFV;AAGI,oBAAA,gBAAgB,MAHpB;AAII,oBAAA,OAAO,EAAE,MAAM,KAAKF,UAAL,CAAgBC,CAAhB,EAAmBC,GAAnB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAdJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,eAAWA,GAAX;AAAA;AAAA;AAAA;AAAA,oBADJ;AA6BH,WA9BA,CAlBL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADH,gBAqDK,QAAC,IAAD;AAAA,gCACE,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,IAApB;AAAA,oBAA0BxB,QAAQ,IAAI,MAAZ,GAAqB,QAArB,GAAgC;AAA1D;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAgB,UAAA,SAAS,EAAC,MAA1B;AAAA,kCACI,QAAC,SAAD;AACI,YAAA,QAAQ,MADZ;AAEI,YAAA,IAAI,EAAC,OAFT;AAGI,YAAA,KAAK,EAAC,MAHV;AAII,YAAA,EAAE,EAAE,KAAKV,KAAL,CAAWE,IAAX,CAAgBI,IAAhB,CAAqBF,EAJ7B;AAKI,YAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,IAAX,CAAgBI,IAAhB,CAAqBD,KALhC;AAMI,YAAA,KAAK,EAAE;AAAEuC,cAAAA,KAAK,EAAE;AAAT,aANX;AAOI,YAAA,QAAQ,EAAGC,CAAD,IAAO,KAAKjC,aAAL,CAAmB,KAAKZ,KAAL,CAAWE,IAAX,CAAgBI,IAAhB,CAAqBF,EAAxC,EAA4CyC,CAAC,CAACC,MAAF,CAASzC,KAArD;AAPrB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAUI,QAAC,MAAD;AACI,YAAA,QAAQ,MADZ;AAEI,YAAA,EAAE,EAAE,KAAKL,KAAL,CAAWE,IAAX,CAAgB8C,SAAhB,CAA0B5C,EAFlC;AAGI,YAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,IAAX,CAAgB8C,SAAhB,CAA0B3C,KAHrC;AAII,YAAA,KAAK,EAAE;AAAEuC,cAAAA,KAAK,EAAE;AAAT,aAJX;AAKI,YAAA,QAAQ,EAAGC,CAAD,IAAO,KAAKjC,aAAL,CAAmB,KAAKZ,KAAL,CAAWE,IAAX,CAAgBI,IAAhB,CAAqBF,EAAxC,EAA4CyC,CAAC,CAACC,MAAF,CAASzC,KAArD,CALrB;AAMI,YAAA,KAAK,EAAC,YANV;AAAA,oCAQI,QAAC,QAAD;AAAU,cAAA,KAAK,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARJ,eASI,QAAC,QAAD;AAAU,cAAA,KAAK,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATJ,eAUI,QAAC,QAAD;AAAU,cAAA,KAAK,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVJ,eAsBI,QAAC,SAAD;AACI,YAAA,QAAQ,MADZ;AAEI,YAAA,IAAI,EAAC,OAFT;AAGI,YAAA,KAAK,EAAC,UAHV;AAII,YAAA,EAAE,EAAE,KAAKL,KAAL,CAAWE,IAAX,CAAgBK,KAAhB,CAAsBH,EAJ9B;AAKI,YAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,IAAX,CAAgBK,KAAhB,CAAsBF,KALjC;AAMI,YAAA,KAAK,EAAE;AAAEuC,cAAAA,KAAK,EAAE;AAAT,aANX;AAOI,YAAA,QAAQ,EAAGC,CAAD,IAAO,KAAKjC,aAAL,CAAmB,KAAKZ,KAAL,CAAWE,IAAX,CAAgBK,KAAhB,CAAsBH,EAAzC,EAA6CyC,CAAC,CAACC,MAAF,CAASzC,KAAtD;AAPrB;AAAA;AAAA;AAAA;AAAA,kBAtBJ,eA+BI,QAAC,SAAD;AACI,YAAA,QAAQ,MADZ;AAEI,YAAA,IAAI,EAAC,OAFT;AAGI,YAAA,KAAK,EAAC,eAHV;AAII,YAAA,EAAE,EAAE,KAAKL,KAAL,CAAWE,IAAX,CAAgBM,MAAhB,CAAuBJ,EAJ/B;AAKI,YAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,IAAX,CAAgBM,MAAhB,CAAuBH,KALlC;AAMI,YAAA,KAAK,EAAE;AAAEuC,cAAAA,KAAK,EAAE;AAAT,aANX;AAOI,YAAA,QAAQ,EAAGC,CAAD,IAAO,KAAKjC,aAAL,CAAmB,KAAKZ,KAAL,CAAWE,IAAX,CAAgBM,MAAhB,CAAuBJ,EAA1C,EAA8CyC,CAAC,CAACC,MAAF,CAASzC,KAAvD;AAPrB;AAAA;AAAA;AAAA;AAAA,kBA/BJ,eAwCI,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,CAAf;AAAkB,YAAA,KAAK,EAAE;AAAE4C,cAAAA,cAAc,EAAE,QAAlB;AAA4BC,cAAAA,OAAO,EAAE;AAArC,aAAzB;AAAA,mCACI,QAAC,MAAD;AACI,cAAA,OAAO,EAAC,WADZ;AAEI,cAAA,KAAK,EAAC,WAFV;AAGI,cAAA,gBAAgB,MAHpB;AAII,cAAA,SAAS,MAJb;AAKI,cAAA,OAAO,EAAE,MAAM,KAAKpC,UAAL,EALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAxCJ,eAmDI,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,CAAf;AAAkB,YAAA,KAAK,EAAE;AAAEmC,cAAAA,cAAc,EAAE,QAAlB;AAA4BC,cAAAA,OAAO,EAAE,MAArC;AAA6CC,cAAAA,SAAS,EAAE;AAAxD,aAAzB;AAAA,sBACKzC,QAAQ,IAAI,MAAZ,gBACG,QAAC,MAAD;AACI,cAAA,OAAO,EAAC,WADZ;AAEI,cAAA,KAAK,EAAC,SAFV;AAGI,cAAA,OAAO,EAAE,MAAM,KAAK2B,QAAL,EAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADH,gBASG,QAAC,MAAD;AACI,cAAA,IAAI,EAAC,QADT;AAEI,cAAA,OAAO,EAAC,WAFZ;AAGI,cAAA,KAAK,EAAC,SAHV;AAII,cAAA,OAAO,EAAE,MAAM,KAAKpB,UAAL,EAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVR;AAAA;AAAA;AAAA;AAAA,kBAnDJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAtDV;AAAA;AAAA;AAAA;AAAA,YADJ;AAqIH;;AA7Q8B;;AAgRnC,eAAerB,IAAf","sourcesContent":["import React from \"react\";\nimport {\n    Box, Grid,\n    Button, Card,\n    TextField, CardContent,\n    CardHeader, Typography,\n    Select, MenuItem\n} from \"@material-ui/core/\";\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from \"./Home.style\";\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            openLoginModal: false,\n            form: {\n                filter: {\n                    id: \"filter\",\n                    value: \"\"\n                },\n                nome: {\n                    id: \"nome\",\n                    value: \"\"\n                },\n                preco:\n                {\n                    id: \"preco\",\n                    value: \"\"\n                },\n                imagem:\n                {\n                    id: \"imagem\",\n                    value: \"\"\n                },\n            },\n            filter: {\n                id: \"preco\",\n                value: \"\"\n            },\n            lista: [],\n            typePage: \"list\",\n            idxEdit: \"\"\n        }\n    }\n\n\n\n    onInputChange(id, value) {\n        let { form } = this.state;\n        form[id].value = value;\n        this.setState({ form });\n    }\n\n    changeView() {\n        let { typePage } = this.state\n        let newType = typePage == \"list\" ? \"create\" : \"list\"\n        this.clearForm()\n        this.setState({ typePage: newType })\n    }\n\n    createItem() {\n        let { form } = this.state\n        let body = {\n            nome: form.nome.value,\n            preco: form.preco.value,\n            imagem: form.imagem.value\n        }\n        console.log(body)\n        let localStore = localStorage.getItem(\"database\")\n        let database = [];\n\n\n\n        if (localStore) {\n            const cache = JSON.parse(localStore)\n            cache.push(body)\n            localStorage.setItem(\"database\", JSON.stringify(cache));\n            this.clearForm()\n            this.setState({ typePage: \"list\" })\n        } else {\n            database[0] = body\n            localStorage.setItem(\"database\", JSON.stringify(database));\n            console.log(database)\n        }\n\n\n    }\n\n    clearForm() {\n        let { form } = this.state\n        form.imagem.value = \"\"\n        form.preco.value = \"\"\n        form.nome.value = \"\"\n\n        this.setState({ form })\n    }\n    componentDidMount() {\n        let localStore = localStorage.getItem(\"database\")\n        console.log(localStore)\n    }\n\n    removeItem(l, idx) {\n        console.log(l, idx)\n        let localStore = localStorage.getItem(\"database\")\n        const cache = JSON.parse(localStore)\n        cache.splice(idx, 1)\n        localStorage.setItem(\"database\", JSON.stringify(cache));\n        this.setState({ typePage: \"list\" })\n    }\n\n    editarItem(l, idx) {\n        console.log(l, idx)\n        let { typePage, form } = this.state\n        typePage = \"edit\"\n        form.imagem.value = l.imagem\n        form.nome.value = l.nome\n        form.preco.value = l.preco\n        this.setState({ typePage, form, idxEdit: idx })\n    }\n\n\n    editItem() {\n        let { form, idxEdit } = this.state\n\n        let localStore = localStorage.getItem(\"database\")\n        const cache = JSON.parse(localStore)\n        cache[idxEdit].imagem = form.imagem.value\n        cache[idxEdit].nome = form.nome.value\n        cache[idxEdit].preco = form.preco.value\n\n        localStorage.setItem(\"database\", JSON.stringify(cache));\n\n        this.setState({ typePage: \"list\" })\n        this.clearForm()\n    }\n\n\n    render() {\n        let { form, typePage } = this.state\n        let lista = localStorage.getItem('database');\n        let cacheLista = JSON.parse(lista);\n        let listaFiltrada = cacheLista?.filter((l) => {\n            const filter = form?.filter?.value?.toLowerCase();\n            const nome = l.nome.toLowerCase();\n            return nome.includes(filter);\n        });\n        return (\n            <Box style={{ height: \"100%\" }} className=\"mt-4\">\n                {typePage == \"list\" ?\n                    <Card>\n                        <CardContent>\n                            <TextField\n                                requireds\n                                size=\"small\"\n                                label=\"Filtro\"\n                                id={this.state.form.filter.id}\n                                value={this.state.form.filter.value}\n                                style={{ width: \"100%\" }}\n                                onChange={(e) => this.onInputChange(this.state.form.filter.id, e.target.value)}\n                            />\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                disableElevation\n                                onClick={() => this.changeView()}\n                            >\n                                Novo\n                            </Button>\n                            {listaFiltrada?.map((l, idx) => {\n                                return (\n                                    <Grid key={idx} item xs={12}>\n                                        <Card className=\"mt-3\">\n                                            <Grid md={8}>\n                                                {l.nome}\n                                            </Grid>\n                                            <Grid md={2}>\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"secondary\"\n                                                    disableElevation\n                                                    onClick={() => this.editarItem(l, idx)}\n                                                >\n                                                    Editar\n                                              </Button>\n                                            </Grid>\n                                            <Grid md={2}>\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"primary\"\n                                                    disableElevation\n                                                    onClick={() => this.removeItem(l, idx)}\n                                                >\n                                                    Remove\n                                              </Button>\n                                            </Grid>\n                                        </Card>\n                                    </Grid>\n                                )\n                            })}\n                        </CardContent>\n                    </Card>\n                    : <Card>\n                        <Typography variant=\"h4\">{typePage == \"edit\" ? \"Edição\" : \"Criação\"}</Typography>\n                        <Grid container className=\"mt-4\">\n                            <TextField\n                                required\n                                size=\"small\"\n                                label=\"Nome\"\n                                id={this.state.form.nome.id}\n                                value={this.state.form.nome.value}\n                                style={{ width: \"100%\" }}\n                                onChange={(e) => this.onInputChange(this.state.form.nome.id, e.target.value)}\n                            />\n                            <Select\n                                required\n                                id={this.state.form.priridade.id}\n                                value={this.state.form.priridade.value}\n                                style={{ width: \"100%\" }}\n                                onChange={(e) => this.onInputChange(this.state.form.nome.id, e.target.value)}\n                                label=\"Prioridade\"\n                            >\n                                <MenuItem value=\"baixa\">Baixa</MenuItem>\n                                <MenuItem value=\"media\">Média</MenuItem>\n                                <MenuItem value=\"alta\">Alta</MenuItem>\n                            </Select>\n                            <TextField\n                                required\n                                size=\"small\"\n                                label=\"Preço\"\n                                id={this.state.form.preco.id}\n                                value={this.state.form.preco.value}\n                                style={{ width: \"100%\" }}\n                                onChange={(e) => this.onInputChange(this.state.form.preco.id, e.target.value)}\n                            />\n                            <TextField\n                                required\n                                size=\"small\"\n                                label=\"URL da imagem\"\n                                id={this.state.form.imagem.id}\n                                value={this.state.form.imagem.value}\n                                style={{ width: \"100%\" }}\n                                onChange={(e) => this.onInputChange(this.state.form.imagem.id, e.target.value)}\n                            />\n                            <Grid item md={6} style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    disableElevation\n                                    autoFocus\n                                    onClick={() => this.changeView()}\n                                >\n                                    VOLTAR\n                                </Button>\n                            </Grid>\n                            <Grid item md={6} style={{ justifyContent: \"center\", display: \"flex\", marginTop: \"10px\" }}>\n                                {typePage == \"edit\" ?\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={() => this.editItem()}\n                                    >\n                                        EDITAR\n                                    </Button>\n                                    :\n                                    <Button\n                                        type=\"submit\"\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={() => this.createItem()}\n                                    >\n                                        CRIAR\n                                </Button>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Card>\n                }\n            </Box>\n        )\n    };\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}